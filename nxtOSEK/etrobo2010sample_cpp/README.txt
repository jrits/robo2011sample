ETロボコン2010用NXT走行体(NXTway-ET) C++サンプルプログラム

					             2010/02 ETロボコン技術委員会
=================================================================================

1.はじめに
本プログラムはETロボコン2010のNXT走行体(NXTway-ET)のサンプルC++プログラムです。
サンプルプログラムを実行する場合は、etrobo2010sample(nxtOSEK)フォルダをnxtOSEKと同じディレクトリ階層
に配置してください。(例、C:/cygwin/nxtOSEKならばC:/cygwin/etrobo2010sample(nxtOSEK))
本プログラムの使用にはnxtOSEK v2.11以降のバージョンが必要になります。

2.ファイル構成
etrobo2010sample(nxtOSEK)/sample_cppフォルダ下は以下のファイルから構成されています。
 balancer_param.c            バランス制御パラメータCソースファイル
 Driver.h                    走行体ドライバーベースクラスヘッダファイル
 DriverManager.cpp           走行体ドライバー管理クラスソースファイル
 DriverManager.h             走行体ドライバー管理クラスヘッダファイル
 LineTraceDriver.cpp         ライントレース走行ドライバークラスソースファイル
 LineTraceDriver.h           ライントレース走行ドライバークラスヘッダファイル
 NXTway_GS.cpp               走行体クラスソースファイル
 NXTway_GS.h                 走行体クラスヘッダファイル
 NXTway_GS_data.h            走行体内部データヘッダファイル
 Main.cpp   	             TOPPERS/ATK1タスク定義ソースファイル
 Main.oil                    TOPPERS/ATK1設定ファイル
 SonarDriver.cpp             超音波センサ障害物検出ドライバーソースファイル
 SonarDriver.h               超音波センサ障害物検出ヘッダソースファイル
 StartStopDriver.cpp         走行体スタート/ストップ制御ドライバーソースファイル
 StartStopDriver.h           走行体スタート/ストップ制御ドライバーヘッダファイル
 Makefile                    プログラムビルド用Makefile
 README.txt
 doxygen.cfg                 doxygen設定ファイル
 /html/index.html            doxygen生成クラスAPIリファレンス

3. ビルド方法
- nxtOSEK v2.11以降の開発環境構築をおこないます。
- Cygwin上でsample_cppディレクトリに移動し、
   $ make all
 と入力します。サンプルプログラムはTOPPERS/ATK1とリンクされ、実行形式ファイルが生成されます。
- nxtOSEKの操作方法に従って、サンプルプログラムをNXTにアップロードします。

4. サンプルプログラムの操作方法
- サンプルプログラムを起動します。初期画面の表示後、メイン画面が表示されます。
- RUNボタン(右側の三角ボタン)を押します。
- NXTway-ETを立たせた状態で、反時計回りに黒線内側エッジ上に配置します。
  この時、左右車輪は必ず地面に接地させてください。
- NXTway-ETの右側に装着されているタッチセンサを押すことで、ジャイロセンサの自動キャリブレーションがおこなわれ、
  ブザーがなった後、ライントレースを開始します。走行中にタッチセンサを押すことで、走行を停止します。
  タッチセンサONのトグル操作により、走行開始/走行停止を操作できます。
※ジャイロセンサの自動キャリブレーション中は、角速度0[deg/sec]時のジャイロセンサオフセット値を計算しているため、
  ブザーがなるまで、ロボットを動かさないでください。
- 走行体前方約30cm以内に障害物がある場合、超音波センサ検出により、ライントレース走行を停止します。
※超音波センサの距離測定結果は、雰囲気温度や障害物の形状・材質により異なります。また、障害物が
  超音波センサに近接している場合(例, 5cm以内)は、誤動作する場合があります。

5. 備考
■ ETロボコン設計・実装入門 配布プログラムの取り扱いについて
配布プログラムは、通常の運用においては何ら問題のないことを確認しておりますが、
運用結果、いかなる損害が発生したとしても著作者ならびにETソフトウェアデザインロボコン
技術委員会はいかなる責任も負いません。使用者の責任においてご利用ください。

■ ご質問について
配布プログラムの使い方についてのご質問はお断り申し上げます。ご了承ください。

