ETロボコン2010用NXT走行体(NXTway-ET)サンプルCプログラム

                                                     2010/02 ETロボコン技術委員会
=================================================================================

1.はじめに
本プログラムはETロボコン2010のNXT走行体(NXTway-ET)のサンプルCプログラムです。
サンプルプログラムを実行する場合は、etrobo2010sample(nxtOSEK)フォルダをnxtOSEKと同じディレクトリ階層に配置してください。
(例、C:/cygwin/nxtOSEKならばC:/cygwin/etrobo2010sample(nxtOSEK))
本プログラムの使用にはnxtOSEK v2.11以降のバージョンが必要になります。

2.ファイル構成
etrobo2010sample(nxtOSEK)\sample_cフォルダ下は以下のファイルから構成されています。
 balancer_param.c バランス制御パラメータソースファイル
 sample.c   	  TOPPERS/ATK1タスク定義ソースファイル
 sample.oil       TOPPERS/ATK1設定ファイル
 Makefile         プログラムビルド用Makefile
 README.txt

3. ビルド方法
- nxtOSEK v2.11以降の開発環境構築をおこないます。
- Cygwin上でsample_cディレクトリに移動し、
   $ make all
 と入力します。sampleプログラムはTOPPERS/ATK1とリンクされ、実行形式ファイルが生成されます。
- nxtOSEKの操作方法に従って、sampleプログラムをNXTにアップロードします。

4. sampleプログラムの操作方法
- sampleプログラムを起動します。初期画面の表示後、メイン画面が表示されます。
- RUNボタン(右側の三角ボタン)を押します。
- NXTway-ETを立たせた状態で、反時計回りに黒線内側エッジ上に配置します。この時、左右車輪は必ず地面に接地させてください。
- NXTway-ETの右側に装着されているタッチセンサを押すことで、ライントレースを開始します。
- 走行体前方約30cm以内に障害物がある場合、超音波センサ検出により、ライントレース走行を停止します。
※超音波センサの距離測定結果は、雰囲気温度や障害物の形状・材質により異なります。また、障害物が
超音波センサに近接している場合(例, 5cm以内)は、誤動作する場合があります。

※sample.cには次のパラメータが定義されています。
#define GYRO_OFFSET  610 /* ジャイロセンサオフセット値(角速度0[deg/sec]時) */
#define WHITE	     500 /* 白色の光センサ値 */
#define BLACK	     700 /* 黒色の光センサ値 */
これらのパラメータはセンセ個体およびテスト環境に依存しますので、テスト時には適宜調整してください。
なお、GYRO_OFFSETパラメータは、NXTway-ETの車体傾斜角速度0[deg/sec]時のジャイロセンサの値です。

5. 備考
■ ETロボコン設計・実装入門 配布プログラムの取り扱いについて
配布プログラムは、通常の運用においては何ら問題のないことを確認しておりますが、
運用結果、いかなる損害が発生したとしても著作者ならびにETソフトウェアデザインロボコン
技術委員会はいかなる責任も負いません。使用者の責任においてご利用ください。

■ ご質問について
配布プログラムの使い方についてのご質問はお断り申し上げます。ご了承ください。

